<!doctype html><html lang=en><meta charset=utf-8><title>Recorded History | nevstokes.com</title><link rel=preload as=font href=/fonts/quicksand-300-latin.woff2 type=font/woff2 crossorigin=anonymous><link rel=icon href=/favicon.svg><link rel=canonical href=https://nevstokes.com/blog/2020/09/git/><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/syntax.css><meta name=description content="Personal site"><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1,user-scalable=yes,viewport-fit=cover"><a href=#content>Skip to main content</a><main><header><a href=/>nevstokes.com</a><nav><a title=Blog href=/blog/>Blog</a>
<a title="About Me" href=/page/about-me/>About Me</a>
<a title=Accessibility href=/page/accessibility/>Accessibility</a>
<a title=Colophon href=/page/colophon/>Colophon</a></nav></header><article id=content><h1>Recorded History</h1><div class=meta><p><svg aria-label="Posted on"><use xlink:href="/symbol-defs.svg#icon-calendar"/></svg>Saturday, September 5, 2020</p><p><svg aria-label="Reading time"><use xlink:href="/symbol-defs.svg#icon-watch"/></svg>3 minutes</p></div><figure><blockquote>Any code of your own that you haven't looked at for six or more months might as well have been written by someone else.</blockquote><figcaption>&mdash; Eagleson's Law</figcaption></figure><p>The BitKeeper / SourcePuller feud spawned the development of Git in 2005. The concept of distributed source control had been around for a while but Linus Torvalds had unique insights on how to implement a system to improve on the designs of some of the earlier systems.</p><p>Audit of who did what when. signed commit - git blame somebody else</p><h2 id=repository-workflows>Repository Workflows</h2><p>Distributed architecture enables many modes.
<a href=https://git-scm.com/about/distributed>https://git-scm.com/about/distributed</a></p><h2 id=branching-models>Branching Models</h2><p>It took five years of everyone experimenting with Git for anything approaching a good workflow to emerge. For a while, everyone got excited about git-flow. GitHub flow, Git V</p><p>Like most things, there&rsquo;s not a one-size-fits-all solution. Understand your processes and requirements.</p><p><a href=https://barro.github.io/2016/02/a-succesful-git-branching-model-considered-harmful/>https://barro.github.io/2016/02/a-succesful-git-branching-model-considered-harmful/</a>
<a href=https://mergebase.com/doing-git-wrong/2018/06/04/git-v-an-optimal-git-branching-model/>https://mergebase.com/doing-git-wrong/2018/06/04/git-v-an-optimal-git-branching-model/</a>
<a href=https://docs.microsoft.com/en-us/azure/devops/learn/devops-at-microsoft/release-flow>https://docs.microsoft.com/en-us/azure/devops/learn/devops-at-microsoft/release-flow</a></p><p>With the rise of CI / CD practices, more and more are gravitating towards a trunk-based development process to shorten their feedback loops.</p><h2 id=commits>Commits</h2><ul><li>Create atomic commits and enable rerere</li><li>Write well-crafted commit messages</li></ul><p>An atomic commit is the smallest individual changeset that will not break the build; it is not the entire feature in a single commit. A feature implementation will consist of many atomic commits; you may have changes grouped across business logic, configuration, documentation and the presentation layer. Having these changes as reductive as possible will make things easy for you to rollback changes as and when necessary but will also simplify the steps needed by git itself when it comes to combine your work into another branch. There will be far fewer conflicts.</p><p>Using new syntaxt switch - checkout</p><p>project>feature $ git fetch
project>feature $ git rebase origin/main
project>feature $ git switch main
project>main $ git merge feature &ndash;no-ff</p><p><a href=https://github.com/k88hudson/git-flight-rules>https://github.com/k88hudson/git-flight-rules</a></p><p>Atomic commit:
Branch from master - known to work
Do the work, single commit - doesn&rsquo;t work
Where did the error creep in?
To me, seems a not very useful practice to encourage.</p><p><em>alternatively</em>
Atomic commit is the smallest iteration on the feature
Multiple commits deliver the feature
When it doesn&rsquo;t work, use git bisect to pinpoint where the error crept in</p><h2 id=merge-strategies>Merge Strategies</h2><p>Tell a story of the life of your project.</p><p>Merge commit rather than squashing.</p><p>Yes you migt say, even if you squash your commits the work will still be available in the reflog but <em>only until you tidy up</em>. Pruning old branches is just good housekeeping.</p><p>Prefering a particular practice on the basis of subjective aesthetics at the expense of discarding information isn&rsquo;t the best trade-off in my opinion.</p><ul><li>Regularly rebase from upstream main onto feature branch, you may get conflicts but easier to resolve rather than bigger issues later</li><li>Perform an interactive rebase to tidy commits before pushing</li><li>Merge commit feature branch onto main in order to preserve history</li></ul><p>Top tip: turn on rerere - this will record the resolution of any merge conflicts so that they can be automaticaly re-applied should the same signature be encountered again in some future operation.</p><h2 id=config>Config</h2><p>global ignore</p><p>Template - main branch</p><ul><li><p>git push &ndash;force-with-lease
<a href=https://blog.developer.atlassian.com/force-with-lease/>https://blog.developer.atlassian.com/force-with-lease/</a></p></li><li><p>git pull &ndash;ff-only
<a href=https://mergebase.com/doing-git-wrong/2018/03/07/fun-with-git-pull-rebase/>https://mergebase.com/doing-git-wrong/2018/03/07/fun-with-git-pull-rebase/</a></p></li><li><p>git merge &ndash;no-ff
<a href=https://linuxhint.com/git_merge_noff_option/>https://linuxhint.com/git_merge_noff_option/</a>
helps create a more readable history. It allows you to put tags that clearly shows where the merges occurred. It can save you time and effort during debugging.</p></li><li><p><a href=https://gist.github.com/SethRobertson/1540906/68feeabfe906ec1eb893e4fa45f402795ed6e62c>https://gist.github.com/SethRobertson/1540906/68feeabfe906ec1eb893e4fa45f402795ed6e62c</a></p></li><li><p><a href=https://chris.beams.io/posts/git-commit/>https://chris.beams.io/posts/git-commit/</a></p></li></ul><p><svg aria-label="Posted in"><use xlink:href="/symbol-defs.svg#icon-tag"/></svg>#<a href=https://nevstokes.com/tags/work/>work</a>&nbsp;</p></article><nav><a href=https://nevstokes.com/blog/2020/08/missing-august/ title="Missing August">&#171; Previous Post</a>
<a href=https://nevstokes.com/blog/2020/09/maintenance/ title=Maintenance>Next Post &#187;</a></nav><footer><ul class=container aria-label="Social Links"><li><a href=https://twitter.com/nevstokes title=Twitter target=_blank rel="noopener noreferrer"><svg><use xlink:href="/symbol-defs.svg#icon-twitter"/></svg><span>My Twitter Feed</span></a></li><li><a href=https://keybase.io/nevstokes title=Keybase target=_blank rel="noopener noreferrer"><svg><use xlink:href="/symbol-defs.svg#icon-keybase"/></svg><span>My Keybase Identity</span></a></li><li><a href=https://github.com/nevstokes title=GitHub target=_blank rel="noopener noreferrer"><svg><use xlink:href="/symbol-defs.svg#icon-github"/></svg><span>My GitHub Repositories</span></a></li><li><a href=https://linkedin.com/in/nevstokes title=LinkedIn target=_blank rel="noopener noreferrer"><svg><use xlink:href="/symbol-defs.svg#icon-linkedin"/></svg><span>My LinkedIn Profile</span></a></li><li><a href=https://stackoverflow.com/users/224639/nev-stokes title=StackOverflow target=_blank rel="noopener noreferrer"><svg><use xlink:href="/symbol-defs.svg#icon-stackoverflow"/></svg><span>My StackOverflow Activity</span></a></li><li><a href=https://www.strava.com/athletes/nevstokes title=Strava target=_blank rel="noopener noreferrer"><svg><use xlink:href="/symbol-defs.svg#icon-strava"/></svg><span>My Strava Activities</span></a></li><li><a href=https://nevstokes.com/index.xml title=RSS target=_blank rel="noopener noreferrer"><svg><use xlink:href="/symbol-defs.svg#icon-rss"/></svg><span>This Blog's RSS Feed</span></a></li></ul></footer></main></html>